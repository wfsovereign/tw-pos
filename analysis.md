

pos机项目纲领
---


### 已知

1. 商品信息包含：名称，数量单位，单价，类别和条形码（伪）。

#### 优惠详情

1. “买二赠一”是指，每当买进两个商品，就可以免费再买一个相同商品。
2. “95折”是指，在计算小计的时候按单价的95%计算每个商品。
3. 每一种优惠都详细标记了哪些条形码对应的商品可以享受此优惠。
4. 店员设置，当“95折”和“买二赠一”发生冲突的时候，也就是一款商品既符合享受“买二赠一”优惠的条件，又符合享受“95折”优惠的条件时，只享受“买二赠一”优惠。

### 模块划分

1. 收银机 (将输入的数据转换成一个JSON数据然后一次性传给我们这个小模块)
2. 打印小票的小模块 -> controller center (根据JSON数据进行价格计算，并从控制台中输出结算清单的文本)

#### scanner

1. 将文本数据转化为JSON数据

#### controller center

1. 购物车模块 shoppingCart -> 将收银机传入的数据转化为可用于计算的数据（附带count）
2. 计价模块 calculator -> 将购物车模块数据结合优惠规则计算出相应价格
3. 打印模块 print -> 将计价模块的数据输出为规定信息


### 数据结构

#### 商品(item)

* name
* price
* unit
* barcode
* type

#### 优惠

* name
* priority
* barcodes
